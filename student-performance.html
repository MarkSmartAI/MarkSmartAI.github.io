<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>John Doe's Performance</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
        }
        .container {
            width: 80%;
            margin: 20px auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .chart-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin: 20px 0;
        }
        .chart {
            flex: 1;
            max-width: 45%;
        }
        .expander {
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 6px;
            overflow: hidden;
            background-color: #f9f9f9;
        }
        .expander-header {
            padding: 10px;
            cursor: pointer;
            background-color: #f0f0f0;
            font-weight: bold;
        }
        .expander-content {
            padding: 10px;
            display: none;
        }
        .button-container {
            text-align: right;
            margin-top: 20px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 4px;
            font-size: 14px;
        }
        button:hover {
            background-color: #45a049;
        }
        .insights {
            margin-top: 30px;
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #ccc;
        }
        .insights h2 {
            margin-top: 0;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Performance of John Doe</h1>

        <!-- Insights and Recommendations -->
        <div class="insights">
            <h2>Insights and Recommendations</h2>
            <p><strong>Great Job:</strong> Student performed excellently in Waves and Circuits, scoring 100% in both topics, compared to the class averages of 85% and 90% respectively!</p>
            <p><strong>Focus Areas:</strong> Mechanics needs improvement (50%), as the class average is 70%. Focus on understanding the concepts of net force and acceleration.</p>
            <p><strong>Next Steps:</strong> Complete additional practice questions in Mechanics to improve mastery and aim to meet or exceed the class average.</p>
        </div>

        <!-- Expanders for Questions -->
        <div class="expander">
            <div class="expander-header">Question 1: What is the acceleration of an object under free fall?</div>
            <div class="expander-content">
                <p><strong>Your Answer:</strong> 9.8 m/s<sup>2</sup></p>
                <p><strong>Correct Answer:</strong> 9.8 m/s<sup>2</sup></p>
                <p><strong>Topic:</strong> Mechanics</p>
                <p style="color: green;"><strong>Status:</strong> Correct</p>
            </div>
        </div>

        <div class="expander">
            <div class="expander-header">Question 2: What is the net force on a stationary object?</div>
            <div class="expander-content">
                <p><strong>Your Answer:</strong> 10 N</p>
                <p><strong>Correct Answer:</strong> 0 N</p>
                <p><strong>Topic:</strong> Mechanics</p>
                <p style="color: red;"><strong>Status:</strong> Incorrect</p>
                <p><strong>Explanation:</strong> A stationary object has no net force acting on it since the forces are balanced.</p>
            </div>
        </div>

        <div class="expander">
            <div class="expander-header">Question 3: What is the wavelength of a wave with frequency 50 Hz and speed 1500 m/s?</div>
            <div class="expander-content">
                <p><strong>Your Answer:</strong> 30 m</p>
                <p><strong>Correct Answer:</strong> 30 m</p>
                <p><strong>Topic:</strong> Waves</p>
                <p style="color: green;"><strong>Status:</strong> Correct</p>
            </div>
        </div>

        <div class="expander">
            <div class="expander-header">Question 4: What is the equivalent resistance of two 10 Ω resistors in parallel?</div>
            <div class="expander-content">
                <p><strong>Your Answer:</strong> 5 Ω</p>
                <p><strong>Correct Answer:</strong> 5 Ω</p>
                <p><strong>Topic:</strong> Circuits</p>
                <p style="color: green;"><strong>Status:</strong> Correct</p>
            </div>
        </div>

        <!-- Hide Class Average Toggle -->
        <div class="button-container">
            <button id="toggleClassAverage">✓ Hide Class Average</button>
        </div>

        <!-- Charts Side by Side -->
        <div class="chart-container">
            <div class="chart">
                <h2 style="text-align: center;">Score Per Topic</h2>
                <canvas id="topicChart"></canvas>
            </div>
            <div class="chart">
                <h2 style="text-align: center;">Progress Over Time</h2>
                <canvas id="progressChart"></canvas>
            </div>
        </div>
    </div>

    <script>
        let showClassAverage = true;

        // Chart for Topic Performance
        const ctx = document.getElementById('topicChart').getContext('2d');
        const topicChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Mechanics', 'Waves', 'Circuits'],
                datasets: [
                    {
                        label: 'Student Performance (%)',
                        data: [50, 100, 100],
                        backgroundColor: ['#FF5733', '#33FF57', '#3357FF'],
                    },
                    {
                        label: 'Class Average (%)',
                        data: [70, 85, 90],
                        backgroundColor: ['rgba(255, 87, 51, 0.5)', 'rgba(51, 255, 87, 0.5)', 'rgba(51, 87, 255, 0.5)'],
                    }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });

        // Chart for Progress Over Time
        const progressCtx = document.getElementById('progressChart').getContext('2d');
        const progressChart = new Chart(progressCtx, {
            type: 'line',
            data: {
                labels: ['Test 1', 'Test 2', 'Test 3'],
                datasets: [
                    {
                        label: 'Student Progress (%)',
                        data: [60, 70, 80],
                        borderColor: '#4CAF50',
                        backgroundColor: '#4CAF50',
                        fill: false,
                        tension: 0.4,
                    },
                    {
                        label: 'Class Average Progress (%)',
                        data: [65, 75, 78],
                        borderColor: '#FF9800',
                        backgroundColor: '#FF9800',
                        fill: false,
                        tension: 0.4,
                    }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });

        // Expanders Toggle Logic
        const expanders = document.querySelectorAll('.expander-header');
        expanders.forEach(header => {
            header.addEventListener('click', () => {
                const content = header.nextElementSibling;
                content.style.display = content.style.display === 'block' ? 'none' : 'block';
            });
        });

        // Hide Class Average Toggle Logic
        document.getElementById('toggleClassAverage').addEventListener('click', () => {
            showClassAverage = !showClassAverage;

            topicChart.data.datasets[1].hidden = !showClassAverage;
            progressChart.data.datasets[1].hidden = !showClassAverage;

            topicChart.update();
            progressChart.update();

            document.getElementById('toggleClassAverage').textContent = showClassAverage ? '✓ Hide Class Average' : '✓ Show Class Average';
        });
    </script>
</body>
</html>
